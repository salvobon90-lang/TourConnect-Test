lâ€™errore che vedi (â€œâŒ 404 Pagina non trovata â€“ Hai dimenticato di aggiungere la pagina al router?â€) Ã¨ chiaro:
la ricerca funziona (il sistema tenta di aprire la pagina), ma manca la route corretta nel router.
Replit/Next.js non trova /tours?search=... perchÃ© noi abbiamo creato la pagina risultati in /search, non in /tours.

Serve quindi un prompt per Replit che:

reindirizzi correttamente la barra di ricerca alla pagina /search,

crei la route mancante, se necessaria,

e assicuri che i parametri di ricerca vengano gestiti correttamente.

ğŸ§  PROMPT PER REPLIT â€” Fix â€œ404 Pagina Non Trovataâ€ nella Ricerca

Correggi il bug che causa lâ€™errore 404 quando si effettua una ricerca (es: /tours?search=catania).
La ricerca deve aprire la pagina /search giÃ  implementata, non /tours.
Inoltre, verifica che tutti i parametri vengano passati correttamente al componente SearchResultsPage.

ğŸ”§ TASKS DA ESEGUIRE

Correggere lâ€™URL di destinazione della ricerca
Nella funzione handleSearch della barra di ricerca (nel file della home turista o nel componente SearchBar.tsx), sostituire:

router.push(`/tours?search=${query}`);


con:

router.push(`/search?query=${encodeURIComponent(query)}`);


In questo modo, la ricerca aprirÃ  la pagina corretta /search.

Aggiungere una route di fallback per compatibilitÃ 
Se altri componenti chiamano ancora /tours?search=..., crea una redirect interna:

In Next.js 13+:

// /src/pages/tours/index.tsx
import { useRouter } from 'next/router';
import { useEffect } from 'react';

export default function RedirectToursToSearch() {
  const router = useRouter();
  const search = router.query.search || '';
  useEffect(() => {
    if (search) {
      router.replace(`/search?query=${encodeURIComponent(search)}`);
    } else {
      router.replace('/search');
    }
  }, [search]);
  return null;
}


Questo evita lâ€™errore 404 anche se qualche vecchio link punta ancora a /tours?search=....

Verificare che il router sia registrato

Assicurarsi che nel file next.config.js o nella cartella src/pages/ esista il percorso /search/index.tsx (come indicato nel prompt precedente).

Se si utilizza un router custom (es. React Router in ambiente non Next.js), aggiungere la route:

<Route path="/search" element={<SearchResultsPage />} />


Validare i parametri della ricerca
Nel componente SearchResultsPage, assicurarsi che la query venga letta correttamente:

const params = useSearchParams();
const query = params.get('query') || '';


(Non search, che era il nome del vecchio parametro.)

Aggiornare la barra di ricerca globale
Se il progetto ha una TopSearchBar (es. visibile anche in header), controllare che usi lo stesso schema:

router.push(`/search?query=${encodeURIComponent(query)}&category=${category}&price=${price}&lang=${language}&distance=${distance}`);


Traduzioni e messaggi di errore
Aggiornare i file locales/it/search.json per includere:

{
  "notFound": "Nessun risultato trovato per la tua ricerca",
  "loading": "Caricamento risultati...",
  "error": "Si Ã¨ verificato un errore durante la ricerca"
}

âœ… TEST FINALI
Azione	Risultato atteso
Digito â€œCataniaâ€ nella barra e clicco â€œCercaâ€	âœ… Apre /search?query=catania
Vecchi link a /tours?search=...	âœ… Reindirizzati automaticamente a /search?query=...
Parametri multipli (categoria, lingua, distanza)	âœ… Tutti passati e filtrati correttamente
Nessun risultato	âœ… Mostra messaggio â€œNessun risultato trovatoâ€
Test mobile e desktop	âœ… Nessun errore 404 o redirect loop

ğŸ‘‰ In sintesi:
Questo prompt corregge definitivamente il 404 collegando la barra di ricerca alla pagina corretta /search, aggiungendo un redirect per compatibilitÃ  e validando i parametri.